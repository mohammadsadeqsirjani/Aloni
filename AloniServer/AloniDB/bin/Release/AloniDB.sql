/*
Deployment script for AloniDB

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "AloniDB"
:setvar DefaultFilePrefix "AloniDB"
:setvar DefaultDataPath "C:\Program Files\Microsoft SQL Server\MSSQL13.MSSQLSERVER\MSSQL\DATA\"
:setvar DefaultLogPath "C:\Program Files\Microsoft SQL Server\MSSQL13.MSSQLSERVER\MSSQL\DATA\"

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
USE [$(DatabaseName)];


GO
PRINT N'Dropping Full-text Index on [dbo].[TB_STORE]...';


GO
DROP FULLTEXT INDEX ON [dbo].[TB_STORE];


GO
PRINT N'Dropping [dbo].[DF__TB_SYS_VE__isAct__3B0EF068]...';


GO
ALTER TABLE [dbo].[TB_SYS_VERSION] DROP CONSTRAINT [DF__TB_SYS_VE__isAct__3B0EF068];


GO
PRINT N'Dropping [dbo].[DF__TB_SYS_VE__start__3A1ACC2F]...';


GO
ALTER TABLE [dbo].[TB_SYS_VERSION] DROP CONSTRAINT [DF__TB_SYS_VE__start__3A1ACC2F];


GO
PRINT N'Dropping [dbo].[DF__TB_USR_SE__saveD__0C73FD10]...';


GO
ALTER TABLE [dbo].[TB_USR_SESSION] DROP CONSTRAINT [DF__TB_USR_SE__saveD__0C73FD10];


GO
PRINT N'Altering [AloniDB]...';


GO
ALTER ASSEMBLY [AloniDB]
    DROP FILE ALL;


GO
ALTER ASSEMBLY [AloniDB]
    FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C010300ECB9B55C0000000000000000E00002210B010B000018000000060000000000009E360000002000000040000000000010002000000002000004000000000000000400000000000000008000000002000003BB0000030040850000100000100000000010000010000000000000100000000000000000000000503600004B00000000400000A002000000000000000000000000000000000000006000000C000000183500001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000A4160000002000000018000000020000000000000000000000000000200000602E72737263000000A00200000040000000040000001A0000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000001E000000000000000000000000000040000042000000000000000000000000000000008036000000000000480000000200050074250000A40F00000900000000000000000000000000000050200000800000000000000000000000000000000000000000000000000000000000000000000000297532FA9FDDF7FB3482577D1F065735473B59FC85BCB92F73EA033895678C5CC3816F46776215228F0F843F6F4D676DF1851B63305D97C292EECD21B9DF412EE4522E7A0D4BB611926C9746D7847200D4085F49CB43E7A4CC1504BFAF92375357C79FF3DEF7A287593E2594C49801191E978B7879F6860774A5A7F1E0B4CBCB1B3004008C0000000100001172010000701D8D01000001130411041602A211041703A211041804A211041905A211041A0E04A211041B0E05A211041C0E06A21104280500000A280600000A740B0000010A0672A40000706F0700000A066F0800000A740D0000010B076F0900000A730A00000A0C086F0B00000A730C00000A0DDE14082C06086F0D00000ADC072C06076F0D00000ADC092A011C0000020068000E76000A0000000002005C002480000A000000001B3006009B0300000200001102280600000A750B0000010A0E0E280E00000A2D310F0F280F00000A2C28060E0E0F0F281000000A731100000A6F1200000A066F1300000A0E100E11731400000A6F1500000A0E0C72AC00007072B00000706F1600000A100C0E0B72AC00007072B00000706F1600000A100B7E1700000A0B0E0D17330B72B60000700B38510200000E0D18406301000006176F1800000A0672B80000706F0700000A0672C20000706F1900000A066F1A00000A7202010070036F1B00000A0E12174081000000721E0100701F0A8D01000001130C110C160E0CA2110C170E0BA2110C18729B020070A2110C190E04A2110C1A0E05A2110C1B0E06A2110C1C0E07A2110C1D0E08A2110C1E0E09A2110C1F090E0AA2110C280500000A0C72AB02007072D502007008281C00000A72F102007005281C00000A720D030070281D00000A0B38920100000E1218408A01000072110300701D8D01000001130D110D160E04A2110D170E05A2110D180E06A2110D190E07A2110D1A0E08A2110D1B0E09A2110D1C0E0AA2110D280500000A0D1C8D09000001130E110E16720C040070A2110E1772300400700E0C0E0B729B020070281E00000AA2110E18720D030070A2110E1972D502007009281C00000AA2110E1A72F102007005281C00000AA2110E1B720D030070A2110E281F00000A0B38E60000000E0D1940DE00000006176F1800000A0672B80000706F0700000A0672C20000706F1900000A066F1A00000A7202010070036F1B00000A72110300701D8D01000001130F110F160E04A2110F170E05A2110F180E06A2110F190E07A2110F1A0E08A2110F1B0E09A2110F1C0E0AA2110F280500000A13041D8D09000001131011101672B3040070A211101772B704007004281C00000AA211101872D704007005281C00000AA211101972D50200701104281C00000AA211101A72110500700E0C281C00000AA211101B724B0500700E0B281C00000AA211101C720D030070A21110281F00000A0B282000000A076F2100000A1305141306066F2200000A1307110711051611058E696F2300000ADE0C11072C0711076F0D00000ADC066F0800000A750D000001130811086F0900000A730A00000A130911096F0B00000A1306DE0C11092C0711096F0D00000ADCDE0C11082C0711086F0D00000ADCDE4A130A110A6F2400000A7285050070110A6F2500000A2D0772B60000702B16110A6F2500000A6F0900000A730A00000A6F0B00000A282600000A1306DE0D130B110B6F2400000A1306DE001106730C00000A2A00014000000200EB0210FB020C00000000020022030B2D030C0000000002001403273B030C000000000000E3026649033D1A0000010000E3026686030D190000011E02282700000A2A42534A4201000100000000000C00000076342E302E33303331390000000005006C00000030030000237E00009C0300008404000023537472696E677300000000200800008C05000023555300AC0D0000100000002347554944000000BC0D0000E801000023426C6F620000000000000002000001471502080900000000FA253300160000010000001A00000002000000030000001A00000027000000050000000200000001000000010000000300000000000A0001000000000006003B0034000A0063004E0006007A00340006008F017C011300A30100000600D201B2010600F201B2010A00330218020600480234000E00610256020E00730256020E008D0256020E00A50256020600BF02B5020600D802B5020600E502B5020600FA0234000E00330356020E003C0356020E005A0356020E006C0356020E00B50356020E00F403D50306001F0413040600510434000E006704560200000000010000000000010001000100100016000000050001000100D0200000000096006D000A00010084210000000096008500160008006C250000000086189F0032001B0000000100A50000000200A90000000300B20000000400BB0000000500C20000000600CA0000000700D00000000100D60000000200DE0000000300EC0000000400F20000000500FC00000006000401000007000B0100000800140100000900190100000A001E0100000B00230100000C00280100000D00300100000E00380100000F004101000010004C0100001100570100001200660100001300750121009F00360031009F003C0039009F00320041009F00320049004F02E80051006C02EF0051008202F50051009902FA006100C602FF0079009F0004018100F0020A0111009F00F50089000603320049000E031B010C001C0326010C0029032A0191009F002F01510046033501510050033B01A1009F004001990079034601490089034C014900910352015900970355015100A503F5005100C9035A01B9000804400149004F025F0149000C04650149004F026D0149000C047501C10028047B01C1003104800151003A04FF0071004B048601C9005B040A01D1007404FA0049000C048E0109009F00320020002300E3002E000B00B5012E001300BE012E001B00C70140002300E3000E01950120010480000000000000000000000100000041001002000004000000000000000000000001002B00000000000400000000000000000000000100420000000000040000000000000000000000010034000000000000000000003C4D6F64756C653E00416C6F6E6944422E646C6C0055736572446566696E656446756E6374696F6E73006D73636F726C69620053797374656D004F626A6563740053797374656D2E446174610053797374656D2E446174612E53716C54797065730053716C537472696E670066756E635F73656E64536D73004E756C6C61626C6560310066756E635F73656E64507573684E6F74696669636174696F6E002E63746F720075726C00757365724E616D650070617373776F726400646F6D61696E006D7367426F6479007372634E6F006473744E6F006164647265737300617574686F72697A6174696F6E00617070496400706C617965724964730073656374696F6E00616374696F6E00746172676574496400706172310070617232007061723300706172340068656164696E6700636F6E74656E740070726F76696465720070726F78795F686F73740070726F78795F706F72740070726F78795F757365726E616D650070726F78795F70617373776F7264004F53747970650053797374656D2E446961676E6F73746963730044656275676761626C6541747472696275746500446562756767696E674D6F6465730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C69747941747472696275746500416C6F6E694442004D6963726F736F66742E53716C5365727665722E5365727665720053716C46756E6374696F6E41747472696275746500537472696E6700466F726D61740053797374656D2E4E6574005765625265717565737400437265617465004874747057656252657175657374007365745F4D6574686F6400576562526573706F6E736500476574526573706F6E73650048747470576562526573706F6E73650053797374656D2E494F0053747265616D00476574526573706F6E736553747265616D0053747265616D52656164657200546578745265616465720052656164546F456E640049446973706F7361626C6500446973706F73650049734E756C6C4F72456D707479006765745F48617356616C7565006765745F56616C75650057656250726F7879004957656250726F7879007365745F50726F7879006765745F50726F7879004E6574776F726B43726564656E7469616C004943726564656E7469616C73007365745F43726564656E7469616C73005265706C61636500456D707479007365745F4B656570416C697665007365745F436F6E74656E745479706500576562486561646572436F6C6C656374696F6E006765745F486561646572730053797374656D2E436F6C6C656374696F6E732E5370656369616C697A6564004E616D6556616C7565436F6C6C656374696F6E0041646400436F6E6361740053797374656D2E5465787400456E636F64696E67006765745F55544638004765744279746573004765745265717565737453747265616D00577269746500457863657074696F6E006765745F4D65737361676500576562457863657074696F6E006765745F526573706F6E7365000000000080A17B0030007D002F00730065006E00640073006D0073003F0075007300650072004E0061006D0065003D007B0031007D002600700061007300730077006F00720064003D007B0032007D00260064006F006D00610069006E003D007B0033007D0026006D007300670042006F00640079003D007B0034007D0026007300720063004E006F003D007B0035007D0026006400730074004E006F003D007B0036007D0000074700450054000003220000055C0022000001000950004F0053005400003F6100700070006C00690063006100740069006F006E002F006A0073006F006E003B00200063006800610072007300650074003D007500740066002D003800011B61007500740068006F00720069007A006100740069006F006E0000817B7B007B00220062006F006400790022003A0022007B0030007D0022002C0022007400690074006C006500220020003A00200022007B0031007D0022002C00220073006F0075006E006400220020003A00200022007B0032007D0022002C0022007000720069006F007200690074007900220020003A0020002200680069006700680022002C002200730065006300740069006F006E00220020003A00200022007B0033007D0022002C00220061006300740069006F006E00220020003A00200022007B0034007D0022002C00220074006100720067006500740049006400220020003A00200022007B0035007D00220020002C00200022007000610072003100220020003A00200022007B0036007D00220020002C00200022007000610072003200220020003A00200022007B0037007D0022002C00200022007000610072003300220020003A00200022007B0038007D00220020002C00200022007000610072003400220020003A00200022007B0039007D0022007D007D00000F640065006600610075006C00740000297B0022007000720069006F007200690074007900220020003A002000220068006900670068002200001B2C0022006400610074006100220020003A0020007B0030007D00001B2C00220074006F00220020003A00200022007B0030007D00220000037D000080F97B007B002200730065006300740069006F006E00220020003A00200022007B0030007D0022002C00220061006300740069006F006E00220020003A00200022007B0031007D0022002C00220074006100720067006500740049006400220020003A00200022007B0032007D00220020002C00200022007000610072003100220020003A00200022007B0033007D00220020002C00200022007000610072003200220020003A00200022007B0034007D0022002C00200022007000610072003300220020003A00200022007B0035007D00220020002C00200022007000610072003400220020003A00200022007B0036007D0022007D007D0000237B0022006E006F00740069006600690063006100740069006F006E0022003A007B00008081220062006F006400790022003A0022007B0030007D0022002C0022007400690074006C006500220020003A00200022007B0031007D0022002C00220073006F0075006E006400220020003A00200022007B0032007D0022002C0022007000720069006F007200690074007900220020003A00200022006800690067006800220000037B00001F22006100700070005F006900640022003A00200022007B0030007D00220000392C00220069006E0063006C007500640065005F0070006C0061007900650072005F0069006400730022003A0020005B007B0030007D005D0000392C00220063006F006E00740065006E007400730022003A0020007B007B00220065006E0022003A00200022007B0030007D0022007D007D0000392C002200680065006100640069006E006700730022003A0020007B007B00220065006E0022003A00200022007B0030007D0022007D007D0000032000000000003026B305D1CBC04F9AC934D3EF77D6FB0008B77A5C561934E0890B000711090E0E0E0E0E0E0E1B001311090E0E0E0E0E0E0E0E0E0E0E0E0E050E15110D01080E0E0503200001052001011115042001010880A00024000004800000940000000602000000240000525341310004000001000100311F371818CBC02372B7E1E3C1418BD72C5F9C4AA0AE3BB307FA53FAEB0766D35B7F4C1DBA53523AD2FD74E7DCB82F5FC8EFE32B2E7F605E398BC1B0F8264B074285E36A5A5C6EE793C3F4AECB5C8DC0FC678C2555D7259A7E9332F9334F655027FB4765FF0A75F390650CF7D6944BC3961EAE54BBBFCCFDC31C1690CADCBFCF04010000000600020E0E1D1C05000112290E042001010E042000123104200012390520010112390320000E0C0705122D1235123D11091D1C040001020E0515110D0108032000020420001300052002010E0805200101124D042000124D052002010E0E0520010112550520020E0E0E02060E042001010204200012590500020E0E1C0700040E0E0E0E0E0700040E0E1C1C1C0500010E1D0E04000012610520011D050E072003011D0508080600030E0E0E0E1F0711122D0E0E0E0E1D050E12391235123D126912651D1C1D1C1D0E1D1C1D0E0801000200000000000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F777301000000000000ECB9B55C00000000020000001C0100003435000034170000525344531C9749A84F91724C85B8FC62A39E2AAC02000000653A5C416C6F6E695C416C6F6E695365727665725C416C6F6E6944425C6F626A5C52656C656173655C416C6F6E6944422E706462000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007836000000000000000000008E360000002000000000000000000000000000000000000000000000803600000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF250020001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000440200000000000000000000440234000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000000000000000000000000000000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004A4010000010053007400720069006E006700460069006C00650049006E0066006F0000008001000001003000300030003000300034006200300000002C0002000100460069006C0065004400650073006300720069007000740069006F006E000000000020000000300008000100460069006C006500560065007200730069006F006E000000000030002E0030002E0030002E003000000038000C00010049006E007400650072006E0061006C004E0061006D006500000041006C006F006E006900440042002E0064006C006C0000002800020001004C006500670061006C0043006F00700079007200690067006800740000002000000040000C0001004F0072006900670069006E0061006C00460069006C0065006E0061006D006500000041006C006F006E006900440042002E0064006C006C000000340008000100500072006F006400750063007400560065007200730069006F006E00000030002E0030002E0030002E003000000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000030002E0030002E0030002E00300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C000000A03600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;


GO
ALTER ASSEMBLY [AloniDB]
    DROP FILE ALL
    ADD FILE FROM 0x4D6963726F736F667420432F432B2B204D534620372E30300D0A1A445300000000020000010000001F00000090000000000000001C000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000081380E1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF30E47FFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0BCA3101380000000010000000100000000000000E00FFFF04000000FFFF0300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F862513FC607D311905300C04FA302A1C4454B99E9E6D211903F00C04FA302A10B9D865A1166D311BD2A0000F80849BD60A66E40CF64824CB6F042D48172A7991000000000000000245A771AFA84239EEE52AEC02026EDDF0C00000008000000090000000A0000000D0000000E0000000F000000100000001100000012000000130000001500000014000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F862513FC607D311905300C04FA302A1C4454B99E9E6D211903F00C04FA302A10B9D865A1166D311BD2A0000F80849BD60A66E40CF64824CB6F042D48172A7991000000000000000A3D8A58F793BF72F279445D24848CA44000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000BCA310138000000001000000010000000000000FFFFFFFF04000000FFFF030000000000FFFFFFFF00000000FFFFFFFF00000000FFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000BCA310138000000001000000010000000000000FFFFFFFF04000000FFFF030000000000FFFFFFFF00000000FFFFFFFF00000000FFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000BCA3101380000000010000000100000000000001000FFFF04000000FFFF0300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F862513FC607D311905300C04FA302A1C4454B99E9E6D211903F00C04FA302A10B9D865A1166D311BD2A0000F80849BD60A66E40CF64824CB6F042D48172A7991000000000000000A3D8A58F793BF72F279445D24848CA44000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000270400000000000027040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FEEFFEEF01000000E000000000653A5C416C6F6E695C416C6F6E695365727665725C416C6F6E6944425C436C725C66756E635F73656E64507573684E6F74696669636174696F6E2E63730000653A5C616C6F6E695C616C6F6E697365727665725C616C6F6E6964625C636C725C66756E635F73656E64707573686E6F74696669636174696F6E2E637300653A5C416C6F6E695C416C6F6E695365727665725C416C6F6E6944425C436C725C66756E635F73656E64536D732E637300653A5C616C6F6E695C616C6F6E697365727665725C616C6F6E6964625C636C725C66756E635F73656E64736D732E63730007000000000000003F0000000000000040000000010000007E000000AF000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001BE23001AC000000BCE125E337DAD401010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000400000001000000090000000000000040000000280000001BE230015CC6C53558000000010000003F00000040000000650000000000000000000000AF000000280000001BE2300122961F41580000007E0000003F000000AF000000650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001BE23001AC000000A9EBD70F46F4D401020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000400000001000000090000000000000040000000280000001BE230015CC6C53558000000010000003F00000040000000650000000000000000000000AF000000280000001BE2300122961F41580000007E0000003F000000AF0000006500000000000000000000001E002411554D6963726F736F66742E53716C5365727665722E536572766572000E0024115553797374656D2E4E6574000E0024115553797374656D2E494F00001E002011030000000100001100000000000004004353243124303030300000001E002011040000000100001100000000000004004353243024303030310000001A002011000000000100001100000000000000007265717565737400160003113C000000C40100003A0000005000000001000000220020110100000001000011000000000000000068747470526573706F6E7365000000001600031148010000C0010000240000005C00000001000000220020110200000001000011000000000000000073747265616D526561646572000000000200060002000600020006002E000404C93FEAC6B359D649BC250902BBABB460000000004D0044003200000004010000040000000C00000001000700020006000400000036002A1100000000FC010000000000008C00000000000000000000000100000600000000010000000066756E635F73656E64536D730000001600031104000000C80100008C00000000000000010000000A0024115553797374656D00120024115553797374656D2E44617461000000001A0024115553797374656D2E446174612E53716C436C69656E7400001A0024115553797374656D2E446174612E53716C54797065730000001E002411554D6963726F736F66742E53716C5365727665722E536572766572000E0024115553797374656D2E4E6574000E0024115553797374656D2E494F00001E002011030000000100001100000000000004004353243124303030300000001E002011040000000100001100000000000004004353243024303030310000001A002011000000000100001100000000000000007265717565737400160003113C000000C40100003A0000005000000001000000220020110100000001000011000000000000000068747470526573706F6E7365000000001600031148010000C0010000240000005C00000001000000220020110200000001000011000000000000000073747265616D526561646572000000000200060002000600020006002E000404C93FEAC6B359D649BC250902BBABB460000000004D0044003200000004010000040000000C000000010007000200060042002A110000000020060000000000009B0300000000000000000000020000068C000000010000000066756E635F73656E64507573684E6F74696669636174696F6E00001600031100020000E00500009B0300008C000000010000000A0024115553797374656D00120024115553797374656D2E44617461000000001A0024115553797374656D2E446174612E53716C436C69656E7400001A0024115553797374656D2E446174612E53716C54797065730000001E002411554D6963726F736F66742E53716C5365727665722E536572766572000E0024115553797374656D2E4E6574000E0024115553797374656D2E494F0000120024115553797374656D2E54657874000000001E0020110C0000000200001100000000000004004353243024303030300000001E0020110D0000000200001100000000000004004353243024303030310000001E0020110E0000000200001100000000000004004353243024303030320000001E0020110F0000000200001100000000000004004353243024303030330000001E002011100000000200001100000000000004004353243024303030340000001A0020110000000002000011000000000000000072657175657374001A00201101000000020000110000000000000000626F6479000000001E002011050000000200001100000000000000006279746541727261790000002200201106000000020000110000000000000000726573706F6E7365436F6E74656E74001600031144020000580400007C0000004C010000010000001A002011020000000200001100000000000000006461746100000000020006001600031144020000900400009F000000D5010000010000001A002011030000000200001100000000000000006461746100000000020006001600031144020000C8040000DE00000081020000010000001A00201104000000020000110000000000000000646174610000000002000600160003114402000000050000240000006F030000010000001A002011070000000200001100000000000000007772697465720000020006001600031144020000740500004000000093030000010000001E00201108000000020000110000000000000000726573706F6E73650000000016000311040500007005000025000000A0030000010000001A00201109000000020000110000000000000000726561646572000002000600020006001600031144020000A805000039000000D703000001000000160020110A00000002000011000000000000000065780000020006001600031144020000DC050000090000001404000001000000160020110B0000000200001100000000000000006578000002000600020006003A000404C93FEAC6B359D649BC250902BBABB460000000004D0044003200000004020000040000000C000000010008000402BF000C0000000100000602000600F20000006C00000000000000010001008C000000000000000700000060000000000000000E0000804500000010000080500000001D0000805C0000001F000080680000002100008076000000EEEFFE808A000000250000800900DF00090020001000490014005900110040000000000005000600F2000000400200008C000000010001009B030000080000002E0000003402000000000000230000800C000000270000801E00000029000080320000002A000080460000002E000080590000002F0000806C00000030000080720000003200008077000000340000807D000000EEEFFE8082000000360000808A0000003800008091000000390000809C0000003A000080A70000003C000080B80000003E000080C00000004000008016010000410000843C010000EEEFFE8041010000470000804901000049000080880100004A000087E8010000EEEFFE80ED01000057000080F50100005A000080FC0100005B000080070200005C000080120200005E000080230200005F0000806302000060000087D30200006D000080E00200006F000080E302000073000080EB02000075000080F9020000EEEFFE800703000078000080140300007A000080220300007C0000802B030000EEEFFE8049030000800000804B0300008500008084030000EEEFFE808603000087000080880300008900008091030000EEEFFE80930300008B00008009004400090046000D0048000D005F0009003100090031000900240009001B000D001700000000000E0020000D0026000D0025000D0045000D0041000D001D0011006A0111001E0000000000120022001100FA0011001E00000000000E0020000D0026000D0025000D0045000D0041000D00F6000D001700090039000900270014003B0011003E000000000014004B001800530015003A0000000000090020000D008D000000000009001D000D002A000000000009002F00F4000000100000007E00000000000000010000000000000010000000000000001C000000340000005C00000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FFFFFFFF1A092FF120000000140200005D000000010000001D0000000100000001000000010000003500000001000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C00000018000000240000006E635F73656E64507573684E6F74696669636174696F6E001600291100000000000200000100303630303030303200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001A0025110000000004000000010066756E635F73656E64536D730000160029110000000004000000010030363030303030310000260025110000000000020000010066756E635F73656E64507573684E6F74696669636174696F6E0016002911000000000002000001003036303030303032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000FFFFFFFF1A092FF100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A0000008C0000000B01000038000000FFFFFFFF380000000000000010010000AC0000005800000058000000040000000300000006000000070000000B0000000C00000008000000090000002F653A5C616C6F6E695C616C6F6E697365727665725C616C6F6E6964625C636C725C66756E635F73656E64707573686E6F74696669636174696F6E2E6373002F7372632F66696C65732F653A5C616C6F6E695C616C6F6E697365727665725C616C6F6E6964625C636C725C66756E635F73656E64736D732E637300050000000A000000010000003E0000000000000011000000070000006B00000009000000220000000800000000000000050000000A0000000600000000000000DC513301000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000017000000200000000B01000038000000B7010000380000000000000010010000AC0000005800000058000000280000000C090000440200002C0000007400000003000000170000000600000016000000070000000B0000000C00000008000000090000000A0000000D0000000E0000000F000000100000001100000012000000130000001500000014000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FFFFFFFF77093101020000000B00008E0C00F00B0D000000600000003C0000002C00000080000000000000000000000016000000190000000000EEC00000000000000000FFFF000000000000FFFFFFFF00000000FFFF0000000000000000000000000A002406000000000000D40200000200000090241D05000000000000000055736572446566696E656446756E6374696F6E730037314141414545380000002DBA2EF101000000000000008C00000000000000000000000000000000000000010000008C0000009B03000000000000000000000000000000000000020002000D01000000000100FFFFFFFF00000000270400000802000000000000FFFFFFFF00000000FFFFFFFF01000200000002000000000031000000653A5C416C6F6E695C416C6F6E695365727665725C416C6F6E6944425C436C725C66756E635F73656E64536D732E637300653A5C416C6F6E695C416C6F6E695365727665725C416C6F6E6944425C436C725C66756E635F73656E64507573684E6F74696669636174696F6E2E63730000FEEFFEEF010000000100000000010000000000000000000000FFFFFFFFFFFFFFFFFFFF0F00FFFFFFFFFFFFFFFFFFFF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000942E31013A038A5C020000001C9749A84F91724C85B8FC62A39E2AACA70000002F4C696E6B496E666F002F6E616D6573002F7372632F686561646572626C6F636B002F7372632F66696C65732F653A5C616C6F6E695C616C6F6E697365727665725C616C6F6E6964625C636C725C66756E635F73656E64707573686E6F74696669636174696F6E2E6373002F7372632F66696C65732F653A5C616C6F6E695C616C6F6E697365727665725C616C6F6E6964625C636C725C66756E635F73656E64736D732E637300050000000A000000010000003E0000000000000011000000070000006B00000009000000220000000800000000000000050000000A0000000600000000000000DC5133010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000004C0000000B01000038000000B7010000380000000000000010010000AC00000058000000580000000C090000440200002C00000074000000FFFFFFFF28000000170000001A0000000600000019000000070000000B0000000D00000004000000050000000E0000000F000000100000001100000012000000130000001400000016000000150000000A00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001B0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 AS N'AloniDB.pdb';


GO
PRINT N'Creating unnamed constraint on [dbo].[TB_SYS_VERSION]...';


GO
ALTER TABLE [dbo].[TB_SYS_VERSION]
    ADD DEFAULT getdate() FOR [start];


GO
PRINT N'Creating unnamed constraint on [dbo].[TB_SYS_VERSION]...';


GO
ALTER TABLE [dbo].[TB_SYS_VERSION]
    ADD DEFAULT 1 FOR [isActive];


GO
PRINT N'Creating unnamed constraint on [dbo].[TB_USR_SESSION]...';


GO
ALTER TABLE [dbo].[TB_USR_SESSION]
    ADD DEFAULT getdate() FOR [saveDateTime];


GO
PRINT N'Altering [dbo].[SP_opinionpoll_getList]...';


GO
ALTER PROCEDURE [dbo].[SP_opinionpoll_getList]
	@clientLanguage as char(2),
	@appId as tinyint,
	@clientIp as varchar(50),
	@userId as bigint,
	@opinionPollId as bigint,
	@storeId as bigint,
	@itemId as bigint,
	@itemBarcode as varchar(150),
	@itemGrpType as smallint,
	@sex as bit,
	@itemGrpId as bigint,
	@itemType as smallint = null,
	@isActive as bit,
	@publish as bit,
	@resultIsPublic as bit,
	@startDateTime as datetime,
	@endDateTime as datetime,
	@opinionPollIsRunning as bit
   ,@pageNo AS INT
   ,@search AS NVARCHAR(100)
   ,@parent AS VARCHAR(20)
   ,@sort_countOfparticipants as bit
   ,@sort_totalAvg as bit
   ,@sort_startDateTime as bit
	--@rCode as tinyint out,
	--@rMsg as nvarchar(max) out

AS
	
	if(@itemType is null)
	set @itemType = @itemGrpType;

	--set @pageNo = isnull(@pageNo,0);



with totalCnt as (
select op.id , COUNT ( *) as cnt from (select oppopiions.fk_opinionPollId as id,oppopiions.pk_fk_usr_id 
from  TB_STORE_ITEM_OPINIONPOLL_OPINIONS as oppopiions
--where opp.id = 1
group by  oppopiions.fk_opinionPollId, oppopiions.pk_fk_usr_id) as op 
group by  op.id

),

totalAvg
as(
select opp.id, round(avg(oppopiions.score),1)  as [avg]
from TB_STORE_ITEM_OPINIONPOLL as opp
left join TB_STORE_ITEM_OPINIONPOLL_OPTIONS as oppo
on opp.id = oppo.fk_opinionpoll_id
left join TB_STORE_ITEM_OPINIONPOLL_OPINIONS as oppopiions
on oppo.id = oppopiions.pk_fk_opinionOption_id
--where opp.id = 1
group by  opp.id),

base
as
(
	select --distinct	
	opp.id,
	opp.title,
	dbo.func_getDateByLanguage(@clientLanguage,opp.saveDateTime,1) as createDateTime,
	opp.fk_store_id as store_id,
	st.title as store_title,
	st.title_second as store_titleSecond,
	dbo.func_getDateByLanguage(@clientLanguage,opp.startDateTime,0) as startDate,
	dbo.func_getDateByLanguage(@clientLanguage,opp.endDateTime,0) as endDate,
	opp.isActive,
	opp.publish,
	opp.startDateTime,
	opp.endDateTime,
	--opp.itemGrpTitle,
	--opp.
	opp.resultIsPublic,
	i.id as itemId,
	i.sex,
	i.barcode as itemBarcode,
	ig.[type] as itemGrpType,
	ISNULL(i_trn.title,i.title) as item_title,
	ISNULL(opp.itemGrpTitle, ISNULL(ig_trn.title,ig.title)) as itemGrp_title,
	ISNULL(d_op.thumbcompeleteLink,d_di.thumbcompeleteLink) as picUrl_thumb,
	ISNULL(d_op.completeLink,d_di.completeLink) as picUrl_full,
	case when @appId = 2 and resultIsPublic <> 1 then null else ta.avg end as totalAvg,
	case when @appId = 2 and resultIsPublic <> 1 then null else tc.cnt end as countOfparticipants,
	case when (opp.isActive = 1 and opp.startDateTime <= getdate() and opp.endDateTime > getdate() and opp.publish = 1) then 1 else 0 end as opinionPollIsRunning,
    case when dateadd(MINUTE,[dbo].[func_store_item_opinionpoll_editTimeout](), opp.publishDateTime) > getdate() and isnull(tc.cnt,0) = 0 then 1 else 0  end as isEditable,
	i.itemType
	from TB_STORE_ITEM_OPINIONPOLL as opp with(nolock)
	join TB_STORE as st  with(nolock)
	on opp.fk_store_id = st.id
	join TB_ITEM as i with(nolock)
	on opp.fk_item_id = i.id
	join TB_TYP_ITEM_GRP as ig with(nolock)	
	on i.fk_itemGrp_id = ig.id
	left join TB_ITEM_TRANSLATIONS as i_trn with(nolock)
	on i.id = i_trn.id and i_trn.lan = @clientLanguage
	left join TB_TYP_ITEM_GRP_TRANSLATIONS as ig_trn with(nolock)
	on ig.id = ig_trn.id and ig_trn.lan = @clientLanguage
	left join TB_DOCUMENT_ITEM as di with(nolock)
	on i.id = di.pk_fk_item_id and di.isDefault = 1
	left join TB_DOCUMENT as d_di with(nolock)
	on di.pk_fk_document_id = d_di.id
	left join TB_DOCUMENT as d_op with(nolock)
	on opp.fk_document_picId = d_op.id
	left join totalCnt as tc on opp.id = tc.id
	left join totalAvg as ta on opp.id = ta.id

	where 
	(@opinionPollId is null or opp.id = @opinionPollId)
	and
	(@storeId is null or st.id = @storeId)
	and
	(@itemId is null or i.id = @itemId)
	and
	(@itemBarcode is null or i.barcode = @itemBarcode)
	and
	(@itemGrpId is null or ig.id = @itemGrpId)
	and
	(@itemType is null or i.itemType = @itemType)
	and
	(@isActive is null or opp.isActive = @isActive)
	and
	(@sex is null or i.sex = @sex)
	--and
	--(@itemGrpType is null or ig.[type] = @itemGrpType)
	and
	((@appId = 1 and @storeId is not null) or (opp.publish = 1))--اطلاعات منتشر نشده در خروجی نمی آیند مگر آنکه اپ فروشنده باشد و شناسه فروشگاه خود را صریحا داده باشد - اینکه فروشگاه با کاربر فروشنده ارتباط دارد یا خیر در رویه اهراز هویت بررسی می شود
	and
	(@search is null or @search = '' or i.technicalTitle like '%' + @search + '%' or i.title like '%' + @search + '%' or opp.title like '%' + @search + '%')
	and
	(@publish is null or opp.publish = @publish)
	and
	(@resultIsPublic is null or opp.resultIsPublic = @resultIsPublic)
	and
	(@startDateTime is null or opp.startDateTime = @startDateTime)
	and
	(@endDateTime is null or opp.endDateTime = @endDateTime)
	and
	(@opinionPollIsRunning is null or ((@opinionPollIsRunning = 1 and opp.isActive = 1 and opp.startDateTime <= getdate() and opp.endDateTime > getdate() and opp.publish = 1) or (@opinionPollIsRunning = 0 and opp.isActive = 0 or opp.startDateTime > getdate() or opp.endDateTime <= GETDATE())))
	)

	select *  into #tmp from base

	if(@appId in(1,2) and @itemId is null and @itemBarcode is null)
	begin--group by , select last
	with lr
	as
	(select b.*,ROW_NUMBER() over(partition by b.itemId order by b.id desc) as rowNum  from #tmp as b)
	select * from lr
	where rowNum = 1
	   ORDER BY
		--lr.id
		CASE 
		WHEN @sort_countOfparticipants = 0
			THEN countOfparticipants
		ELSE 0
		END ASC
	,CASE 
		WHEN @sort_countOfparticipants = 1
			THEN countOfparticipants
		ELSE 0
		END DESC
	,CASE 
		WHEN @sort_totalAvg = 0
			THEN totalAvg
		ELSE 0
		END ASC
	,CASE 
		WHEN @sort_totalAvg = 1
			THEN totalAvg
		ELSE 0
		END DESC
	,CASE 
		WHEN @sort_startDateTime = 0
			THEN startDateTime
		ELSE 0
		END ASC
	,CASE 
		WHEN @sort_startDateTime = 1
			THEN startDateTime
		ELSE 0
		END DESC
	,CASE
	    WHEN @sort_startDateTime is null and @sort_totalAvg is null and @sort_countOfparticipants is null then id end asc
		OFFSET (@pageNo * 10 ) ROWS
		FETCH NEXT 10 ROWS ONLY;
	end
	else
	begin
	   select b.* from #tmp as b
	    ORDER BY
		--lr.id
		CASE 
		WHEN @sort_countOfparticipants = 0
			THEN countOfparticipants
		ELSE 0
		END ASC
	,CASE 
		WHEN @sort_countOfparticipants = 1
			THEN countOfparticipants
		ELSE 0
		END DESC
	,CASE 
		WHEN @sort_totalAvg = 0
			THEN totalAvg
		ELSE 0
		END ASC
	,CASE 
		WHEN @sort_totalAvg = 1
			THEN totalAvg
		ELSE 0
		END DESC
	,CASE 
		WHEN @sort_startDateTime = 0
			THEN startDateTime
		ELSE 0
		END ASC
	,CASE 
		WHEN @sort_startDateTime = 1
			THEN startDateTime
		ELSE 0
		END DESC
	,CASE
	    WHEN @sort_startDateTime is null and @sort_totalAvg is null and @sort_countOfparticipants is null then id end asc
		OFFSET (@pageNo * 10 ) ROWS
		FETCH NEXT 10 ROWS ONLY;
	 --  ORDER BY
		--b.id
		--OFFSET (@pageNo * 10 ) ROWS
		--FETCH NEXT 10 ROWS ONLY;
	end
	
	drop table #tmp;




	if(@opinionPollId is not null)
	begin
	
		select oppo.id as id, --گزینه ها
		oppo.title as title,
		oppo.isActive as isActive,
		case when (@appId = 1 or opp.resultIsPublic = 1 ) then round (avg(oppopiions.score),1) else null end as optionAvg,
		case when @appId = 2 then userOppopiions.score else null end as userScore
		from TB_STORE_ITEM_OPINIONPOLL as opp  with(nolock)
	    join TB_STORE_ITEM_OPINIONPOLL_OPTIONS as oppo  with(nolock) on opp.id = oppo.fk_opinionpoll_id
		left join TB_STORE_ITEM_OPINIONPOLL_OPINIONS as oppopiions  with(nolock) on oppo.id = oppopiions.pk_fk_opinionOption_id
		left join TB_STORE_ITEM_OPINIONPOLL_OPINIONS as userOppopiions  with(nolock) on oppo.id = userOppopiions.pk_fk_opinionOption_id and userOppopiions.pk_fk_usr_id = @userId
		where opp.id = @opinionPollId and ( @appId = 1 or (oppo.isActive = 1)) -- گزینه / سوالات غیر فعال به اپ خریدار داده نمی شود
		group by  oppo.id,oppo.title,oppo.isActive,opp.resultIsPublic,userOppopiions.score;


		with avgOfScores as (select pk_fk_usr_id, ROUND(avg(score),1) as [avg]
		from TB_STORE_ITEM_OPINIONPOLL_OPINIONS
		group by pk_fk_usr_id,fk_opinionPollId)

		select
		u.id as userId,
		u.fname + ' ' + u.lname as [name],
		cm.comment,
		round(avgOfScores.avg,1) as avgOfScores,
		dbo.func_getDateByLanguage(@clientLanguage,cm.saveDateTime,1) as [time],
		cm.edited,
		d1.id as d1,
		d1.thumbcompeleteLink as p1_thumbcompeleteLink,
		d1.completeLink as p1_completeLink,
		d2.id as d2,
		d2.thumbcompeleteLink as p2_thumbcompeleteLink,
		d2.completeLink as p2_completeLink,
		d3.id as d3,
		d3.thumbcompeleteLink as p3_thumbcompeleteLink,
		d3.completeLink as p3_completeLink,
		d4.id as d4,
		d4.thumbcompeleteLink as p4_thumbcompeleteLink,
		d4.completeLink as p4_completeLink,
		d5.id as d5,
		d5.thumbcompeleteLink as p5_thumbcompeleteLink,
		d5.completeLink as p5_completeLink
		from TB_STORE_ITEM_OPINIONPOLL_COMMENTS as cm with(nolock)
		join TB_USR as u with(nolock) on cm.fk_usr_commentUserId = u.id
		left join TB_DOCUMENT as d1 with(nolock) on cm.fk_document_doc1 = d1.id
		left join TB_DOCUMENT as d2 with(nolock) on cm.fk_document_doc2 = d2.id
		left join TB_DOCUMENT as d3 with(nolock) on cm.fk_document_doc3 = d3.id
		left join TB_DOCUMENT as d4 with(nolock) on cm.fk_document_doc4 = d4.id
		left join TB_DOCUMENT as d5 with(nolock) on cm.fk_document_doc5 = d5.id
		left join avgOfScores on cm.fk_usr_commentUserId = avgOfScores.pk_fk_usr_id
		where cm.fk_opinionpoll_id = @opinionPollId and @appId = 2 and cm.fk_usr_commentUserId = @userId;

	    select count(1) as commentCount from TB_STORE_ITEM_OPINIONPOLL_COMMENTS with(nolock) where fk_opinionpoll_id = @opinionPollId;

	end





RETURN 0
GO
PRINT N'Creating [dbo].[TB_SYS_VERSION].[pk_version].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Major.Minor.HotFix', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'TB_SYS_VERSION', @level2type = N'COLUMN', @level2name = N'pk_version';


GO
PRINT N'Creating [dbo].[TB_SYS_VERSION_TRANSLATIONS].[pk_version].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Major.Minor.HotFix', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'TB_SYS_VERSION_TRANSLATIONS', @level2type = N'COLUMN', @level2name = N'pk_version';


GO
PRINT N'Refreshing [dbo].[SP_getCompleteItemInfo]...';


GO
EXECUTE sp_refreshsqlmodule N'[dbo].[SP_getCompleteItemInfo]';


GO
/*
Post-Deployment Script Template							
--------------------------------------------------------------------------------------
 This file contains SQL statements that will be appended to the build script.		
 Use SQLCMD syntax to include a file in the post-deployment script.			
 Example:      :r .\myfile.sql								
 Use SQLCMD syntax to reference a variable in the post-deployment script.		
 Example:      :setvar TableName MyTable							
               SELECT * FROM [$(TableName)]					
--------------------------------------------------------------------------------------
*/
--insert into TB_APP (id,title) values(4,'test')
GO

GO
PRINT N'Update complete.';


GO
